# ─────────────────────────────────────────────────────────────────
# netlify.toml — AgriNova Labs Netlify Configuration
# ─────────────────────────────────────────────────────────────────

[build]
  # Where your HTML/CSS/JS front-end files live
  publish = "public"
  # Where Netlify looks for serverless functions
  functions = "netlify/functions"

[functions]
  # Bundle each function with its dependencies using esbuild
  node_bundler = "esbuild"
  # Node.js runtime version
  included_files = ["netlify/functions/**"]

# Rewrite /api/* requests to the corresponding Netlify Function
# This lets contact.html POST to /api/contact seamlessly
[[redirects]]
  from   = "/api/contact"
  to     = "/.netlify/functions/contact"
  status = 200

# Optional: redirect root to index.html (usually automatic)
[[redirects]]
  from   = "/*"
  to     = "/index.html"
  status = 200
  conditions = {Role = ["admin"]}
